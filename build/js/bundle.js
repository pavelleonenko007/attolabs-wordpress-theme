(()=>{"use strict";window.addEventListener("load",(()=>{(()=>{const e=document.getElementById("projects-filter-form");if(console.log(e),!e)return;const t=async t=>{t.preventDefault();const o=new FormData(e);let r=!0;(o.has("services[]")||o.has("industries[]"))&&(r=!1),e.classList.toggle("form--active",!r);try{const t=await fetch(ATTO.AJAX_URL,{method:"POST",body:o});if(!t.ok)throw new Error("Something goes wrong");const r=await t.json(),n=document.querySelector(".projects-container"),a=e.querySelector(".form-filters-container");console.log(r),n.innerHTML=r.data.projects,a.innerHTML=r.data["filter-form"],Webflow.destroy(),Webflow.ready(),Webflow.require("ix2").init(),document.dispatchEvent(new Event("readystatechange"))}catch(e){console.error(e)}};e.addEventListener("change",t),e.addEventListener("submit",t),e.addEventListener("reset",(async t=>{t.preventDefault(),e.reset(),e.querySelectorAll('[type="checkbox"]').forEach((e=>{e.checked=!1,e.removeAttribute("checked")})),setTimeout((()=>{e.dispatchEvent(new Event("change"))}),100)}))})(),(()=>{const e=document.querySelectorAll('[data-form="filter-positions"]'),t=async e=>{e.preventDefault();const t=e.target.closest("form"),o=new FormData(t),r=Array.from(document.querySelectorAll(".jobs-item")),n=t.querySelector('button[type="reset"]'),a=!o.has("department")&&!o.has("office")&&!o.has("schedule");r.forEach((e=>{const{department:t,office:r,schedule:n}=e.dataset,a=r.split(","),s=!o.has("department")||t===o.get("department"),c=!o.has("office")||a.includes(o.get("office")),i=!o.has("schedule")||n===o.get("schedule");e.style.display=s&&c&&i?"flex":"none"})),n.classList.toggle("clear-filters--active",!a)},o=e=>{var t;const o=e.target.closest("form"),r=null!==(t=o.dataset.formTrigger)&&void 0!==t?t:"submit";o.reset(),setTimeout((()=>{o.dispatchEvent(new Event(r))}),100)};e.forEach((e=>{var r;const n=null!==(r=e.dataset.formTrigger)&&void 0!==r?r:"submit";e.addEventListener(n,t),e.addEventListener("reset",o)}))})(),(()=>{const e=document.querySelectorAll('[data-form="job-contact"]'),t=async e=>{e.preventDefault();const t=e.target.closest("form"),o=new FormData(t),r=t.querySelector('[type="submit"]'),n=r.value;try{const e=await fetch(ATTO.AJAX_URL,{method:"POST",body:o}),{data:t,success:n}=await e.json();if(!n)throw new Error(t.message);r.value=t.message}catch(e){console.error(e),r.value=e}finally{setTimeout((()=>{r.value=n}),3e3)}};e.forEach((e=>e.addEventListener("submit",t)))})(),document.querySelectorAll('[data-button="copy"]').forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const o=e.textContent;navigator.clipboard.writeText(window.location.href).then((()=>{e.textContent="Copied to clipboard!",setTimeout((()=>{e.textContent=o}),300)}))}))}))}))})();