(()=>{"use strict";class e{static isEmail(e){return e.value.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}static isEmpty(e){return!e.value}static isChecked(e){return e.checked}}const t=t=>{const r=t.querySelectorAll("[required]");let s=!0;for(let t=0;t<r.length;t++){const o=r[t];"checkbox"!==o.type&&"radio"!==o.type?"email"!==o.type?e.isEmpty(o)&&(o.closest(".input-keeper")?.classList.add("input-keeper--error"),s=!1):e.isEmpty(o)&&!e.isEmail(o)&&(o.closest(".input-keeper")?.classList.add("input-keeper--error"),s=!1):e.isChecked(o)||(o.closest(".input-keeper")?.classList.add("input-keeper--error"),s=!1)}return t.classList.toggle("form-error",!s),s};window.addEventListener("load",(()=>{document.querySelectorAll("[required]").forEach((e=>{e.addEventListener("change",(t=>{const r=e.closest(".input-keeper");r&&(r.classList.remove("input-keeper--error"),e.closest("form")?.classList.remove("form-error"))}))})),document.querySelectorAll('input[type="file"]').forEach((e=>{e.addEventListener("change",(t=>{const r=0===e.files.length,s=e.closest(".input-keeper");if(!s)return;const o=s.querySelector('input[name="link"]');o&&(r?o.setAttribute("required",""):o.removeAttribute("required"))}))})),(()=>{const e=document.querySelectorAll('[data-form="slider"]'),r=async e=>{e.preventDefault();const r=e.target.closest("form"),s=r.querySelector('[type="submit"]'),o=s.value,a=r.parentNode.querySelector(".success-message"),l=r.parentNode.querySelector(".w-form-fail");if(s.value="Processing...",!t(r)){const e=r.querySelector(".input-keeper--error").closest(".w-slide"),t=Array.from(r.querySelectorAll(".w-slide")).indexOf(e),a=r.querySelectorAll(".w-slider-dot");return $(a[t]).trigger("click"),void(s.value=o)}const n=new FormData(r);try{const e=await fetch(ATTO.AJAX_URL,{method:"POST",body:n}),{data:t,success:s}=await e.json();if(!s)throw new Error(t.message);r.style.display="none",a.style.display="block"}catch(e){console.error(e),r.style.display="none",l.style.display="block"}finally{setTimeout((()=>{r.reset(),r.style.display=null,a.style.display=null,l.style.display=null,s.value=o}),3e3)}};e.forEach((e=>{e.addEventListener("submit",r),(e=>{const t=e.querySelectorAll(".form-slide"),r=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){const t=$(e.target).closest(".form-slider");t.removeClass("first-slide"),t.removeClass("last-slide"),$(e.target).next().is(":last-child")?t.addClass("last-slide"):$(e.target).is(":first-child")&&t.addClass("first-slide")}}))}),{threshold:.1,margin:"0px"});t.forEach((e=>{r.observe(e)}))})(e)}))})(),(()=>{const e=document.getElementById("projects-filter-form");if(console.log(e),!e)return;const t=async t=>{t.preventDefault();const r=new FormData(e);let s=!0;(r.has("services[]")||r.has("industries[]"))&&(s=!1),e.classList.toggle("form--active",!s);try{const t=await fetch(ATTO.AJAX_URL,{method:"POST",body:r});if(!t.ok)throw new Error("Something goes wrong");const s=await t.json(),o=document.querySelector(".projects-container"),a=e.querySelector(".form-filters-container");console.log(s),o.innerHTML=s.data.projects,a.innerHTML=s.data["filter-form"],Webflow.destroy(),Webflow.ready(),Webflow.require("ix2").init(),document.dispatchEvent(new Event("readystatechange"))}catch(e){console.error(e)}};e.addEventListener("change",t),e.addEventListener("submit",t),e.addEventListener("reset",(async t=>{t.preventDefault(),e.reset(),e.querySelectorAll('[type="checkbox"]').forEach((e=>{e.checked=!1,e.removeAttribute("checked")})),setTimeout((()=>{e.dispatchEvent(new Event("change"))}),100)}))})(),(()=>{const e=document.querySelectorAll('[data-form="filter-positions"]'),t=async e=>{e.preventDefault();const t=e.target.closest("form"),r=new FormData(t),s=Array.from(document.querySelectorAll(".jobs-item")),o=t.querySelector('button[type="reset"]'),a=!r.has("department")&&!r.has("office")&&!r.has("schedule");s.forEach((e=>{const{department:t,office:s,schedule:o}=e.dataset,a=s.split(","),l=!r.has("department")||t===r.get("department"),n=!r.has("office")||a.includes(r.get("office")),c=!r.has("schedule")||o===r.get("schedule");e.style.display=l&&n&&c?"flex":"none"})),o.classList.toggle("clear-filters--active",!a)},r=e=>{var t;const r=e.target.closest("form"),s=null!==(t=r.dataset.formTrigger)&&void 0!==t?t:"submit";r.reset(),setTimeout((()=>{r.dispatchEvent(new Event(s))}),100)};e.forEach((e=>{var s;const o=null!==(s=e.dataset.formTrigger)&&void 0!==s?s:"submit";e.addEventListener(o,t),e.addEventListener("reset",r)}))})(),(()=>{const e=document.querySelectorAll('[data-form="job-contact"]'),r=async e=>{e.preventDefault();const r=e.target.closest("form"),s=t(r),o=r.querySelector('[type="submit"]'),a=o.value;if(o.value="Processing...",!s)return void(o.value=a);const l=new FormData(r);try{const e=await fetch(ATTO.AJAX_URL,{method:"POST",body:l}),{data:t,success:r}=await e.json();if(!r)throw new Error(t.message);o.value=t.message}catch(e){console.error(e),o.value=e}finally{setTimeout((()=>{o.value=a}),3e3)}};e.forEach((e=>e.addEventListener("submit",r)))})(),document.querySelectorAll('[data-button="copy"]').forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const r=e.querySelector("div:first-child"),s=r.textContent;navigator.clipboard.writeText(window.location.href).then((()=>{e.textContent="Copied to clipboard!",setTimeout((()=>{r.textContent=s}),300)}))}))}))}))})();