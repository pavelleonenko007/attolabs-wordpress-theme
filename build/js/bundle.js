(()=>{"use strict";window.addEventListener("load",(()=>{(()=>{const e=document.getElementById("projects-filter-form");if(console.log(e),!e)return;const t=async t=>{t.preventDefault();const r=new FormData(e);let o=!0;(r.has("services[]")||r.has("industries[]"))&&(o=!1),e.classList.toggle("form--active",!o);try{const t=await fetch(ATTO.AJAX_URL,{method:"POST",body:r});if(!t.ok)throw new Error("Something goes wrong");const o=await t.json(),s=document.querySelector(".projects-container"),n=e.querySelector(".form-filters-container");console.log(o),s.innerHTML=o.data.projects,n.innerHTML=o.data["filter-form"],Webflow.destroy(),Webflow.ready(),Webflow.require("ix2").init(),document.dispatchEvent(new Event("readystatechange"))}catch(e){console.error(e)}};e.addEventListener("change",t),e.addEventListener("submit",t),e.addEventListener("reset",(async t=>{t.preventDefault(),e.reset(),e.querySelectorAll('[type="checkbox"]').forEach((e=>{e.checked=!1,e.removeAttribute("checked")})),setTimeout((()=>{e.dispatchEvent(new Event("change"))}),100)}))})(),(()=>{const e=document.querySelectorAll('[data-form="filter-positions"]'),t=async e=>{e.preventDefault();const t=e.target.closest("form"),r=new FormData(t),o=Array.from(document.querySelectorAll(".jobs-item")),s=t.querySelector('button[type="reset"]'),n=!r.has("department")&&!r.has("office")&&!r.has("schedule");o.forEach((e=>{const{department:t,office:o,schedule:s}=e.dataset,n=o.split(","),a=!r.has("department")||t===r.get("department"),c=!r.has("office")||n.includes(r.get("office")),i=!r.has("schedule")||s===r.get("schedule");e.style.display=a&&c&&i?"flex":"none"})),s.classList.toggle("clear-filters--active",!n)},r=e=>{var t;const r=e.target.closest("form"),o=null!==(t=r.dataset.formTrigger)&&void 0!==t?t:"submit";r.reset(),setTimeout((()=>{r.dispatchEvent(new Event(o))}),100)};e.forEach((e=>{var o;const s=null!==(o=e.dataset.formTrigger)&&void 0!==o?o:"submit";e.addEventListener(s,t),e.addEventListener("reset",r)}))})()}))})();